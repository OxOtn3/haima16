webpackJsonp([0],{"B++8":function(t,e){},EqDb:function(t,e){},iWh8:function(t,e){},jzgL:function(t,e){},ncI9:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("4YfN"),s=i.n(n),a=(i("M7jv"),i("iloK"),i("mFEP"),i("uH2S"),i("kRwM")),c=i("xd7I"),o=i("CiZB"),l=i("HyUM"),r=i("ZeNv"),u=i("tSaw"),v=Object(o.b)("toast"),d=v[0],h=v[1],f=d({mixins:[l.a],props:{icon:String,className:null,iconPrefix:String,loadingType:String,forbidClick:Boolean,closeOnClick:Boolean,message:[Number,String],type:{type:String,default:"text"},position:{type:String,default:"middle"},lockScroll:{type:Boolean,default:!1}},data:function(){return{clickable:!1}},mounted:function(){this.toggleClickable()},destroyed:function(){this.toggleClickable()},watch:{value:"toggleClickable",forbidClick:"toggleClickable"},methods:{onClick:function(){this.closeOnClick&&this.close()},toggleClickable:function(){var t=this.value&&this.forbidClick;if(this.clickable!==t){this.clickable=t;var e=t?"add":"remove";document.body.classList[e]("van-toast--unclickable")}},onAfterEnter:function(){this.$emit("opened"),this.onOpened&&this.onOpened()},onAfterLeave:function(){this.$emit("closed")}},render:function(){var t=arguments[0],e=this.type,i=this.icon,n=this.message,s=this.iconPrefix,a=this.loadingType,c=i||"success"===e||"fail"===e;return t("transition",{attrs:{name:"van-fade"},on:{afterEnter:this.onAfterEnter,afterLeave:this.onAfterLeave}},[t("div",{directives:[{name:"show",value:this.value}],class:[h([this.position,{text:!c&&"loading"!==e}]),this.className],on:{click:this.onClick}},[c?t(r.a,{class:h("icon"),attrs:{classPrefix:s,name:i||e}}):"loading"===e?t(u.a,{class:h("loading"),attrs:{color:"white",type:a}}):void 0,function(){if(Object(o.d)(n)&&""!==n)return"html"===e?t("div",{class:h("text"),domProps:{innerHTML:n}}):t("div",{class:h("text")},[n])}()])])}}),p={icon:"",type:"text",mask:!1,value:!0,message:"",className:"",onClose:null,onOpened:null,duration:3e3,iconPrefix:void 0,position:"middle",forbidClick:!1,loadingType:void 0,getContainer:"body",overlayStyle:null,closeOnClick:!1},m=[],y=!1,_=Object(a.a)({},p);function g(t){return Object(o.e)(t)?t:{message:t}}function b(t){void 0===t&&(t={});var e=function(){if(o.f)return{};if(!m.length||y){var t=new(c.a.extend(f))({el:document.createElement("div")});t.$on("input",function(e){t.value=e}),m.push(t)}return m[m.length-1]}();return e.value&&e.updateZIndex(),t=Object(a.a)({},_,{},g(t),{clear:function(){e.value=!1,t.onClose&&t.onClose(),y&&!o.f&&e.$on("closed",function(){clearTimeout(e.timer),m=m.filter(function(t){return t!==e});var t=e.$el.parentNode;t&&t.removeChild(e.$el),e.$destroy()})}}),Object(a.a)(e,function(t){return(t=Object(a.a)({},t)).overlay=t.mask,delete t.mask,delete t.duration,t}(t)),clearTimeout(e.timer),t.duration>0&&(e.timer=setTimeout(function(){e.clear()},t.duration)),e}["loading","success","fail"].forEach(function(t){var e;b[t]=(e=t,function(t){return b(Object(a.a)({type:e},g(t)))})}),b.clear=function(t){m.length&&(t?(m.forEach(function(t){t.clear()}),m=[]):y?m.shift().clear():m[0].clear())},b.setDefaultOptions=function(t){Object(a.a)(_,t)},b.resetDefaultOptions=function(){_=Object(a.a)({},p)},b.allowMultiple=function(t){void 0===t&&(t=!0),y=t},b.install=function(){c.a.use(f)},c.a.prototype.$toast=b;var k=b,C=i("2bvH"),S=i("lejI"),w={name:"Recommend",components:{ScrollView:S.a},data:function(){return{active:0}},methods:{toast:function(){k("接口开发中，可以试试搜索哦")}},created:function(){this.$store.dispatch("music/homeData")},computed:s()({},Object(C.e)("music",["slider","mvData"]))},O={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("scroll-view",{staticClass:"scroll-view"},[i("div",{staticClass:"recommend"},[i("van-swipe",{attrs:{autoplay:3e3,"indicator-color":"white",height:150}},t._l(t.slider,function(e,n){return i("van-swipe-item",{key:n,on:{click:function(e){return t.$dialog.alert({message:"接口开发中···"})}}},[i("van-image",{attrs:{width:"100%",src:e.picUrl}})],1)}),1),t._v(" "),i("van-tabs",{attrs:{swipeable:"",animated:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.mvData,function(e,n){return i("van-tab",{key:n,attrs:{title:n}},[i("van-grid",{attrs:{"column-num":2,gutter:10}},t._l(e,function(e,n){return i("van-grid-item",{key:n,on:{click:t.toast}},[i("div",{staticClass:"grid-item"},[i("van-image",{attrs:{width:"100%",src:e.picurl}}),t._v(" "),i("p",{staticClass:"title"},[t._v(t._s(e.mvtitle))]),t._v(" "),i("p",{staticClass:"desc"},[t._v(t._s(e.mvdesc))])],1)])}),1)],1)}),1)],1)])},staticRenderFns:[]};var j=i("C7Lr")(w,O,!1,function(t){i("jzgL")},"data-v-c8e6553c",null).exports,L={name:"Rank",components:{ScrollView:S.a},computed:s()({},Object(C.c)("music",["topList"])),created:function(){this.$store.dispatch("music/rankList")}},x={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("scroll-view",{staticClass:"scroll-view",attrs:{data:t.topList}},[i("div",{staticClass:"rank"},[i("van-list",{staticClass:"list",attrs:{"finished-text":"没有更多了"}},t._l(t.topList,function(e,n){return i("router-link",{key:n,staticClass:"topic",attrs:{tag:"div",to:{name:"rank",params:{id:e.id}}}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl,expression:"e.picUrl"}],attrs:{width:"100",height:"100",src:e.picUrl}}),t._v(" "),i("div",{staticClass:"topic-info"},[i("h3",[t._v(t._s(e.topTitle))]),t._v(" "),t._l(e.songList,function(e,n){return i("p",{key:n},[t._v("\n            "+t._s(n+1)),i("span",[t._v(t._s(e.singername))]),t._v("- "+t._s(e.songname)+"\n          ")])}),t._v(" "),i("van-icon",{attrs:{name:"arrow",color:"#b4b4b4"}})],2)])}),1)],1)])},staticRenderFns:[]};var H=i("C7Lr")(L,x,!1,function(t){i("iWh8")},"data-v-06b73923",null).exports,$=i("IHPB"),E=i.n($),R=i("gyMJ"),U=i("0d87"),K={name:"Search",data:function(){return{value:"",showHot:!0,showSongs:!1,history:[],page:0,searchList:[]}},components:{ScrollView:S.a},computed:s()({},Object(C.e)("music",["hotKey","historySearch"])),created:function(){this.$store.dispatch("music/hotkey")},methods:s()({},Object(C.d)("music",["addHistorySearch","clearHistorySearch","deleteHistorySearch"]),Object(C.d)("player",["addSongList"]),{pullUp:function(){var t=this;Object(R.g)(this.value,this.page).then(function(e){var i;e.code||((i=t.searchList).push.apply(i,E()(Object(U.a)(e.data.song.list))),t.page++)})},research:function(t){this.value=t,this.onSearch()},stateHandle:function(){this.showHot=!1,this.showSongs=!0,this.addHistorySearch(this.value)},onSearch:function(){this.stateHandle(),this.searchList=[],this.pullUp()},onCancel:function(){this.showHot=!0,this.showSongs=!1},play:function(t){this.addSongList(t),this.$store.dispatch("player/play")}})},N={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search"},[i("van-search",{attrs:{placeholder:"搜索歌曲、歌单、专辑","show-action":""},on:{search:t.onSearch,cancel:t.onCancel},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t._v(" "),t.historySearch.length&&!t.showSongs?i("div",{staticClass:"history"},[t._l(t.historySearch,function(e,n){return i("div",{key:n,staticClass:"item"},[i("van-icon",{attrs:{name:"clock"}}),t._v(" "),i("p",{on:{click:function(i){return t.research(e)}}},[t._v(t._s(e))]),t._v(" "),i("van-icon",{attrs:{name:"cross"},on:{click:t.deleteHistorySearch}})],1)}),t._v(" "),i("div",{staticClass:"clear",on:{click:t.clearHistorySearch}},[t._v("清空历史记录！")])],2):t._e(),t._v(" "),t.showSongs?i("scroll-view",{staticClass:"scroll-view",style:{height:"calc(100vh - 98px)",overflow:"hidden"},attrs:{pullUpRefresh:"",data:t.searchList},on:{pullUp:t.pullUp}},[i("div",{staticClass:"list"},t._l(t.searchList,function(e,n){return i("div",{key:n,staticClass:"list-item",on:{click:function(i){return t.play(e)}}},[i("van-icon",{attrs:{name:"music-o"}}),t._v(" "),i("div",{staticClass:"list-info"},[i("h3",[t._v(t._s(e.song))]),t._v(" "),i("p",[t._v(t._s(e.singer))])])],1)}),0)]):t._e(),t._v(" "),t.hotKey&&t.showHot&&!t.history.size?i("div",{staticClass:"hot"},[i("h3",[t._v("热门搜索")]),t._v(" "),i("p",{staticClass:"special",on:{click:function(e){return t.research(t.hotKey.special_key)}}},[t._v(t._s(t.hotKey.special_key))]),t._v(" "),t._l(t.hotKey.hotkey,function(e,n){return i("p",{key:n,on:{click:function(i){return t.research(e.k)}}},[t._v(t._s(e.k))])})],2):t._e()],1)},staticRenderFns:[]};var P=i("C7Lr")(K,N,!1,function(t){i("yivE")},"data-v-d1836c9e",null).exports,T={name:"Collection",components:{ScrollView:S.a},computed:s()({},Object(C.e)("music",["collection"]),Object(C.e)("player",["historySongs"])),methods:s()({},Object(C.d)("music",["removeCollection"]),Object(C.d)("player",["playerList","removeHistorySongs"]),Object(C.b)("player",["play"]),{playCollection:function(t){this.playerList(this.collection),this.play(t)},playHistory:function(t){this.playerList(this.historySongs),this.play(t)}})},B={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("van-tabs",{attrs:{type:"card"}},[i("van-tab",{attrs:{title:"喜欢"}},[i("scroll-view",{staticClass:"scroll-view"},[i("div",{staticClass:"list"},t._l(t.collection,function(e,n){return i("div",{key:n,staticClass:"list-item"},[i("p",{on:{click:function(e){return t.playCollection(n)}}},[t._v(t._s(e.song)),i("span",[t._v(t._s(e.singer))])]),t._v(" "),i("van-icon",{attrs:{name:"cross"},on:{click:function(e){return t.removeCollection(n)}}})],1)}),0),t._v(" "),t.collection.length?t._e():i("div",{staticClass:"none"},[t._v("空空如也~")])])],1),t._v(" "),i("van-tab",{attrs:{title:"历史"}},[i("scroll-view",{staticClass:"scroll-view"},[i("div",{staticClass:"list"},t._l(t.historySongs,function(e,n){return i("div",{key:n,staticClass:"list-item"},[i("p",{on:{click:function(e){return t.playHistory(n)}}},[t._v(t._s(e.song)),i("span",[t._v(t._s(e.singer))])]),t._v(" "),i("van-icon",{attrs:{name:"cross"},on:{click:function(e){return t.removeHistorySongs(n)}}})],1)}),0),t._v(" "),t.historySongs.length?t._e():i("div",{staticClass:"none"},[t._v("空空如也~")])])],1)],1)},staticRenderFns:[]};var D=i("C7Lr")(T,B,!1,function(t){i("B++8")},"data-v-6f2dd390",null).exports,M=i("VKKs"),F={components:{Recommend:j,Rank:H,Search:P,Collection:D},data:function(){return{active:0}},methods:s()({},Object(C.d)("player",["historySongs"]),Object(C.d)("music",["collection"])),created:function(){this.collection(Object(M.b)()),this.historySongs(Object(M.a)())}},z={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[i("van-tabs",{attrs:{sticky:"",animated:"","title-active-color":"#57cd94","line-height":2,color:"#57cd94","title-inactive-color":"#666"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[i("van-tab",{attrs:{title:"排行榜"}},[i("rank")],1),t._v(" "),i("van-tab",{attrs:{title:"推荐"}},[i("recommend")],1),t._v(" "),i("van-tab",{attrs:{title:"搜索"}},[i("search")],1),t._v(" "),i("van-tab",{attrs:{title:"收藏"}},[i("collection")],1)],1)],1)},staticRenderFns:[]};var I=i("C7Lr")(F,z,!1,function(t){i("EqDb")},"data-v-66fe12f6",null);e.default=I.exports},uH2S:function(t,e){},yivE:function(t,e){}});
//# sourceMappingURL=0.cea7ff3b186e8419a3e5.js.map