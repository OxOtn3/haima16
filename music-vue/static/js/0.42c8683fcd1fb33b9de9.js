webpackJsonp([0],{"6H/y":function(t,e){},evih:function(t,e){},jyla:function(t,e){},ncI9:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("4YfN"),a=n.n(i),s=(n("M7jv"),n("iloK"),n("mFEP"),n("uH2S"),n("kRwM")),c=n("xd7I"),o=n("CiZB"),l=n("HyUM"),r=n("ZeNv"),u=n("tSaw"),v=Object(o.b)("toast"),d=v[0],h=v[1],f=d({mixins:[l.a],props:{icon:String,className:null,iconPrefix:String,loadingType:String,forbidClick:Boolean,closeOnClick:Boolean,message:[Number,String],type:{type:String,default:"text"},position:{type:String,default:"middle"},lockScroll:{type:Boolean,default:!1}},data:function(){return{clickable:!1}},mounted:function(){this.toggleClickable()},destroyed:function(){this.toggleClickable()},watch:{value:"toggleClickable",forbidClick:"toggleClickable"},methods:{onClick:function(){this.closeOnClick&&this.close()},toggleClickable:function(){var t=this.value&&this.forbidClick;if(this.clickable!==t){this.clickable=t;var e=t?"add":"remove";document.body.classList[e]("van-toast--unclickable")}},onAfterEnter:function(){this.$emit("opened"),this.onOpened&&this.onOpened()},onAfterLeave:function(){this.$emit("closed")}},render:function(){var t=arguments[0],e=this.type,n=this.icon,i=this.message,a=this.iconPrefix,s=this.loadingType,c=n||"success"===e||"fail"===e;return t("transition",{attrs:{name:"van-fade"},on:{afterEnter:this.onAfterEnter,afterLeave:this.onAfterLeave}},[t("div",{directives:[{name:"show",value:this.value}],class:[h([this.position,{text:!c&&"loading"!==e}]),this.className],on:{click:this.onClick}},[c?t(r.a,{class:h("icon"),attrs:{classPrefix:a,name:n||e}}):"loading"===e?t(u.a,{class:h("loading"),attrs:{color:"white",type:s}}):void 0,function(){if(Object(o.d)(i)&&""!==i)return"html"===e?t("div",{class:h("text"),domProps:{innerHTML:i}}):t("div",{class:h("text")},[i])}()])])}}),m={icon:"",type:"text",mask:!1,value:!0,message:"",className:"",onClose:null,onOpened:null,duration:3e3,iconPrefix:void 0,position:"middle",forbidClick:!1,loadingType:void 0,getContainer:"body",overlayStyle:null,closeOnClick:!1},p=[],g=!1,_=Object(s.a)({},m);function y(t){return Object(o.e)(t)?t:{message:t}}function k(t){void 0===t&&(t={});var e=function(){if(o.f)return{};if(!p.length||g){var t=new(c.a.extend(f))({el:document.createElement("div")});t.$on("input",function(e){t.value=e}),p.push(t)}return p[p.length-1]}();return e.value&&e.updateZIndex(),t=Object(s.a)({},_,{},y(t),{clear:function(){e.value=!1,t.onClose&&t.onClose(),g&&!o.f&&e.$on("closed",function(){clearTimeout(e.timer),p=p.filter(function(t){return t!==e});var t=e.$el.parentNode;t&&t.removeChild(e.$el),e.$destroy()})}}),Object(s.a)(e,function(t){return(t=Object(s.a)({},t)).overlay=t.mask,delete t.mask,delete t.duration,t}(t)),clearTimeout(e.timer),t.duration>0&&(e.timer=setTimeout(function(){e.clear()},t.duration)),e}["loading","success","fail"].forEach(function(t){var e;k[t]=(e=t,function(t){return k(Object(s.a)({type:e},y(t)))})}),k.clear=function(t){p.length&&(t?(p.forEach(function(t){t.clear()}),p=[]):g?p.shift().clear():p[0].clear())},k.setDefaultOptions=function(t){Object(s.a)(_,t)},k.resetDefaultOptions=function(){_=Object(s.a)({},m)},k.allowMultiple=function(t){void 0===t&&(t=!0),g=t},k.install=function(){c.a.use(f)},c.a.prototype.$toast=k;var b=k,C=n("2bvH"),w=n("lejI"),S={name:"Recommend",components:{ScrollView:w.a},data:function(){return{active:0}},methods:{toast:function(){b("接口开发中，可以试试搜索哦")}},created:function(){this.$store.dispatch("music/homeData")},computed:a()({},Object(C.e)("music",["slider","mvData"]))},O={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("scroll-view",{staticClass:"scroll-view"},[n("div",{staticClass:"recommend"},[n("van-swipe",{attrs:{autoplay:3e3,"indicator-color":"white",height:150}},t._l(t.slider,function(e,i){return n("van-swipe-item",{key:i,on:{click:function(e){return t.$dialog.alert({message:"接口开发中···"})}}},[n("van-image",{attrs:{width:"100%",src:e.picUrl}})],1)}),1),t._v(" "),n("van-tabs",{attrs:{swipeable:"",animated:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.mvData,function(e,i){return n("van-tab",{key:i,attrs:{title:i}},[n("van-grid",{attrs:{"column-num":2,gutter:10}},t._l(e,function(e,i){return n("van-grid-item",{key:i,on:{click:t.toast}},[n("div",{staticClass:"grid-item"},[n("van-image",{attrs:{width:"100%",src:e.picurl,fit:"contain"}}),t._v(" "),n("p",{staticClass:"title"},[t._v(t._s(e.mvtitle))]),t._v(" "),n("p",{staticClass:"desc"},[t._v(t._s(e.mvdesc))])],1)])}),1)],1)}),1)],1)])},staticRenderFns:[]};var j=n("C7Lr")(S,O,!1,function(t){n("zj9s")},"data-v-70ee151e",null).exports,L={name:"Rank",components:{ScrollView:w.a},data:function(){return{}},computed:a()({},Object(C.c)("music",["topList"])),created:function(){this.$store.dispatch("music/rankList")}},x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("scroll-view",{staticClass:"scroll-view",attrs:{data:t.topList}},[n("div",{staticClass:"rank"},[n("van-list",{staticClass:"list",attrs:{"finished-text":"没有更多了"}},t._l(t.topList,function(e,i){return n("router-link",{key:i,staticClass:"topic",attrs:{tag:"div",to:{name:"rank",params:{id:e.id}}}},[n("img",{attrs:{src:e.picUrl,width:"100",height:"100"}}),t._v(" "),n("div",{staticClass:"topic-info"},[n("h3",[t._v(t._s(e.topTitle))]),t._v(" "),t._l(e.songList,function(e,i){return n("p",{key:i},[t._v("\n            "+t._s(i+1)),n("span",[t._v(t._s(e.singername))]),t._v("- "+t._s(e.songname)+"\n          ")])}),t._v(" "),n("van-icon",{attrs:{name:"arrow",color:"#b4b4b4"}})],2)])}),1)],1)])},staticRenderFns:[]};var $=n("C7Lr")(L,x,!1,function(t){n("evih")},"data-v-3af5722c",null).exports,H=n("gyMJ"),E={name:"Search",data:function(){return{value:"",showHot:!0,showSongs:!1,history:[],page:0}},components:{ScrollView:w.a},computed:a()({},Object(C.e)("music",["hotKey","historySearch"]),Object(C.e)({songs:function(t){return t.player.songList}})),created:function(){this.$store.dispatch("music/hotkey")},methods:a()({},Object(C.d)("music",["addHistorySearch","clearHistorySearch","deleteHistorySearch"]),Object(C.d)("player",["songList","addSongList","syncList"]),{pullUp:function(){var t=this;Object(H.g)(this.value,this.page).then(function(e){e.code||(t.addSongList(e.data.song.list),t.page++)})},research:function(t){this.value=t,this.onSearch()},onSearch:function(){var t=this;this.showHot=!1,this.showSongs=!0,this.addHistorySearch(this.value),Object(H.g)(this.value,this.page).then(function(e){e.code||(t.songList(e.data.song.list),t.syncList(),t.page++)})},onCancel:function(){this.showHot=!0,this.showSongs=!1},play:function(t){this.$store.dispatch("player/play",t)}})},R={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search"},[n("van-search",{attrs:{placeholder:"搜索歌曲、歌单、专辑","show-action":""},on:{search:t.onSearch,cancel:t.onCancel},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t._v(" "),t.historySearch.length&&!t.showSongs?n("div",{staticClass:"history"},[t._l(t.historySearch,function(e,i){return n("div",{key:i,staticClass:"item"},[n("van-icon",{attrs:{name:"clock"}}),t._v(" "),n("p",{on:{click:function(n){return t.research(e)}}},[t._v(t._s(e))]),t._v(" "),n("van-icon",{attrs:{name:"cross"},on:{click:t.deleteHistorySearch}})],1)}),t._v(" "),n("div",{staticClass:"clear",on:{click:t.clearHistorySearch}},[t._v("清空历史记录！")])],2):t._e(),t._v(" "),t.showSongs?n("scroll-view",{staticClass:"scroll-view",style:{height:"calc(100vh - 98px)",overflow:"hidden"},attrs:{pullUpRefresh:"",data:t.songs},on:{pullUp:t.pullUp}},[n("div",{staticClass:"list"},t._l(t.songs,function(e,i){return n("div",{key:i,staticClass:"list-item",on:{click:function(e){return t.play(i)}}},[n("van-icon",{attrs:{name:"music-o"}}),t._v(" "),n("div",{staticClass:"list-info"},[n("h3",[t._v(t._s(e.song))]),t._v(" "),n("p",[t._v(t._s(e.singer))])])],1)}),0)]):t._e(),t._v(" "),t.hotKey&&t.showHot&&!t.history.size?n("div",{staticClass:"hot"},[n("h3",[t._v("热门搜索")]),t._v(" "),n("p",{staticClass:"special",on:{click:function(e){return t.research(t.hotKey.special_key)}}},[t._v(t._s(t.hotKey.special_key))]),t._v(" "),t._l(t.hotKey.hotkey,function(e,i){return n("p",{key:i,on:{click:function(n){return t.research(e.k)}}},[t._v(t._s(e.k))])})],2):t._e()],1)},staticRenderFns:[]};var T=n("C7Lr")(E,R,!1,function(t){n("6H/y")},"data-v-08dd44c6",null).exports,M={name:"Collection",components:{ScrollView:w.a},computed:a()({},Object(C.e)("music",["collection"])),methods:a()({},Object(C.d)("music",["removeCollection"]),Object(C.d)("player",["playerList"]),Object(C.b)("player",["play"]),{turn:function(t){this.playerList(this.collection),this.play(t)}})},N={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("scroll-view",{staticClass:"scroll-view"},[n("div",{staticClass:"list"},t._l(t.collection,function(e,i){return n("div",{key:i,staticClass:"list-item"},[n("p",{on:{click:function(e){return t.turn(i)}}},[t._v(t._s(e.song)),n("span",[t._v(t._s(e.singer))])]),t._v(" "),n("van-icon",{attrs:{name:"cross"},on:{click:function(e){return t.removeCollection(i)}}})],1)}),0),t._v(" "),t.collection.length?t._e():n("div",{staticClass:"none"},[t._v("没有收藏~")])])},staticRenderFns:[]};var P={components:{Recommend:j,Rank:$,Search:T,Collection:n("C7Lr")(M,N,!1,function(t){n("wwqg")},"data-v-3478728c",null).exports},data:function(){return{active:0}}},U={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("van-tabs",{attrs:{sticky:"",animated:"","title-active-color":"#57cd94","line-height":2,color:"#57cd94","title-inactive-color":"#666"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[n("van-tab",{attrs:{title:"推荐"}},[n("recommend")],1),t._v(" "),n("van-tab",{attrs:{title:"排行榜"}},[n("rank")],1),t._v(" "),n("van-tab",{attrs:{title:"搜索"}},[n("search")],1),t._v(" "),n("van-tab",{attrs:{title:"收藏"}},[n("collection")],1)],1)],1)},staticRenderFns:[]};var F=n("C7Lr")(P,U,!1,function(t){n("jyla")},"data-v-2ec6eed2",null);e.default=F.exports},uH2S:function(t,e){},wwqg:function(t,e){},zj9s:function(t,e){}});
//# sourceMappingURL=0.42c8683fcd1fb33b9de9.js.map