webpackJsonp([3],{"2Ssz":function(t,n){},"4e6e":function(t,n){},"7Vge":function(t,n){},AqoR:function(t,n){},CzV3:function(t,n){},EHB5:function(t,n){},GnfN:function(t,n){},JVYo:function(t,n){},KuQY:function(t,n){},M7jv:function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});e("2f25");var o=e("XzeX"),i=(e("cS5I"),e("3Qzg")),r=(e("g+F2"),e("MLpb")),a=(e("gRG7"),e("RAWL")),s=(e("+x9Z"),e("AQJZ")),c=(e("fQlO"),e("G0Hr")),l=(e("caxj"),e("ZeNv")),u=(e("6t37"),e("ZVX4")),f=(e("g3c5"),e("Rxbw")),d=(e("I82+"),e("Pg/2")),p=(e("E7t3"),e("AEO1")),h=(e("wtVb"),e("cx9g")),m=(e("2tlI"),e("V7ot")),v=(e("WS+D"),e("tSaw")),g=e("xd7I"),y=e("4YfN"),w=e.n(y),_=(e("/QXl"),e("2bvH")),b={data:function(){return{}},methods:w()({},Object(_.d)("player",["showList","showDetail","toggle"]),{turnHandle:function(){this.toggle()},foldHandle:function(){this.fold=!this.fold}}),computed:w()({},Object(_.e)({fold:function(t){return t.player.showList},play:function(t){return t.player.isPlay},loading:function(t){return t.player.loading}}),Object(_.c)("player",["getInfo"]))},L={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"min-player"},[e("div",{staticClass:"bar"},[e("div",{staticClass:"wrap"},[t.loading?e("van-loading"):e("img",{attrs:{src:"http://temp.im/64x64",alt:""}})],1),t._v(" "),t.getInfo?e("div",{staticClass:"info",on:{click:t.showDetail}},[e("h2",[t._v(t._s(t.getInfo.name))]),t._v(" "),e("p",[t._v(t._s(t.getInfo.singer))])]):t._e(),t._v(" "),e("div",{staticClass:"ctrl"},[e("van-icon",{attrs:{name:t.play?"pause-circle-o":"play-circle-o"},on:{click:t.turnHandle}}),t._v(" "),e("van-icon",{attrs:{name:t.fold?"descending":"ascending"},on:{click:t.showList}})],1)])])},staticRenderFns:[]};var k=e("C7Lr")(b,L,!1,function(t){e("KuQY")},"data-v-35fde51b",null).exports,x=e("Ovsj"),I={name:"Player",components:{ScrollView:x.a},data:function(){return{}},methods:w()({},Object(_.d)("player",["showList","showDetail"])),computed:w()({},Object(_.c)("player",["getInfo"]))},S={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"player"},[t.getInfo?e("div",{staticClass:"title"},[e("van-icon",{attrs:{name:"arrow-left"},on:{click:t.showDetail}}),t._v(" "),e("h2",[t._v(t._s(t.getInfo.name))]),t._v(" "),e("p",[t._v(t._s(t.getInfo.singer))])],1):t._e(),t._v(" "),e("scroll-view",{staticClass:"lyric"},[e("ul",t._l(40,function(n,o){return e("li",{key:o},[t._v(t._s(o))])}),0)]),t._v(" "),e("div",{staticClass:"ctrl"},[t._v("\n    `\n  ")])],1)},staticRenderFns:[]};var D=e("C7Lr")(I,S,!1,function(t){e("Uawo")},"data-v-326b2c92",null).exports,C={components:{ScrollView:x.a},methods:w()({},Object(_.d)("player",["showList","showDetail","removeSongList"]),Object(_.b)("player",["play"]),{remove:function(t){var n=this;this.$dialog.confirm({message:"确定把歌曲从当前播放列表移除？"}).then(function(e){n.removeSongList(t)}).catch(function(t){})},turnOn:function(t){this.play(t)}}),computed:w()({},Object(_.e)("player",["songList","currentIndex"]))},j={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"player-list"},[e("van-nav-bar",{attrs:{title:"播放列表("+t.songList.length+")","right-text":"关闭"},on:{"click-right":t.showList}}),t._v(" "),e("scroll-view",{staticClass:"wrap"},[e("ul",t._l(t.songList,function(n,o){return e("li",{key:o,class:{active:o===t.currentIndex}},[e("p",{on:{click:function(n){return t.turnOn(o)}}},[t._v(t._s(n.name)),e("span",[t._v(t._s(n.singer))])]),t._v(" "),e("van-icon",{attrs:{name:"cross"},on:{click:function(n){return t.remove(o)}}})],1)}),0)])],1)},staticRenderFns:[]};var O={name:"App",components:{MinPlayer:k,Player:D,PlayerList:e("C7Lr")(C,j,!1,function(t){e("EHB5")},"data-v-ee340b68",null).exports},computed:w()({},Object(_.e)("player",["showList","showDetail","currentIndex"]))},E={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view"),this._v(" "),n("min-player",{directives:[{name:"show",rawName:"v-show",value:-1!==this.currentIndex,expression:"currentIndex !== -1"}]}),this._v(" "),n("player",{directives:[{name:"show",rawName:"v-show",value:this.showDetail,expression:"showDetail"}]}),this._v(" "),n("player-list",{directives:[{name:"show",rawName:"v-show",value:this.showList,expression:"showList"}]}),this._v(" "),n("audio",{attrs:{src:""}})],1)},staticRenderFns:[]};var T=e("C7Lr")(O,E,!1,function(t){e("7Vge")},null,null).exports,H=e("e1F6");g.a.use(H.a);var P=new H.a({routes:[{path:"/rank/:id",name:"rank",component:function(){return e.e(1).then(e.bind(null,"OEC7"))}},{path:"/",name:"home",component:function(){return e.e(0).then(e.bind(null,"StSv"))}}]}),N=e("Poa6"),$=e.n(N),A=e("KH7x"),V=e.n(A),q=e("rVsN"),B=e.n(q),Q=e("gyMJ"),R={namespaced:!0,state:{rankData:null,loading:!0,rankList:[],mvData:[],slider:[],hotKey:[],historySearch:[]},mutations:{rankData:function(t,n){t.rankData=n},loading:function(t,n){t.loading=n},rankList:function(t,n){t.rankList=n},mvData:function(t,n){t.mvData=n},slider:function(t,n){t.slider=n},hotKey:function(t,n){t.hotKey=n},addHistorySearch:function(t,n){t.historySearch.push(n)},clearHistorySearch:function(t){t.historySearch=[]},deleteHistorySearch:function(t,n){t.historySearch.splice(n,1)}},getters:{songList:function(t){return t.rankData&&t.rankData.songlist||[]},topInfo:function(t){return t.rankData&&t.rankData.topinfo},topList:function(t){return t.rankList.topList}},actions:{rankSongs:function(t,n){var e=t.commit;e("loading",!0),e("rankData",null),Q.e(n).then(function(t){if(!t.code){var n=t.songlist,o=t.topinfo;e("rankData",{songlist:n,topinfo:o}),M.commit("player/songList",n.map(function(t){return{mid:t.data.albummid,name:t.data.songname,singer:t.data.singer[0].name}}))}setTimeout(function(t){e("loading",!1)},500)})},rankList:function(t){var n=t.commit;Q.d().then(function(t){t.code||n("rankList",t.data)})},homeData:function(t){var n=t.commit;B.a.all([Q.b(),Q.a()]).then(function(t){var e=V()(t,2),o=e[0],i=e[1];o.code||n("slider",o.data.slider),i.code||n("mvData",i.data.shoubomv)})},hotkey:function(t){var n=t.commit;Q.c().then(function(t){t.code||n("hotKey",t.data)})}}},F=(e("o4iB"),e("lA3Y")),K={showList:!1,showDetail:!1,isPlay:!1,songList:[],currentIndex:-1,loading:!0,player:new QMplayer({onplay:function(){K.loading=!1}})},X={namespaced:!0,actions:{play:function(t){var n=t.state,e=t.getters,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(o!==n.currentIndex){n.currentIndex=o,n.player.play(e.songIdList,{index:n.currentIndex}),n.loading=!0,n.isPlay=!0;var i=setTimeout(function(t){n.loading&&m.a.alert({message:"加载失败！"}).then(function(t){n.currentIndex=-1}),clearTimeout(i)},5e3)}}},state:K,getters:{songIdList:function(t){return t.songList.map(function(t){return t.mid})},getInfo:function(t){return t.songList[t.player.data.index]}},mutations:{showList:function(t){t.showList=!t.showList},showDetail:function(t){Object(F.a)("歌词开发中")},songList:function(t,n){t.songList=Array.isArray(n)?n:[n],t.currentIndex=-1},removeSongList:function(t,n){t.currentIndex===n&&t.player.pause(),t.songList.splice(n,1),t.isPlay=!1},currentIndex:function(t,n){t.currentIndex=n},toggle:function(t){t.isPlay=!t.isPlay,t.player.toggle()}}};g.a.use(_.a);var M=new _.a.Store({modules:{music:R,player:X}});g.a.use($.a,5e3),g.a.use(o.a).use(i.a).use(r.a).use(a.a).use(s.a).use(c.a).use(l.a).use(u.a).use(f.a).use(d.a).use(p.a).use(h.a).use(m.a).use(v.a),g.a.config.productionTip=!1,new g.a({el:"#app",router:P,store:M,components:{App:T},template:"<App/>"})},Ovsj:function(t,n,e){"use strict";var o=e("/QXl"),i={props:{probeType:{type:Number,default:1},click:{type:Boolean,default:!0},scrollX:{type:Boolean,default:!1},listenScroll:{type:Boolean,default:!1},data:{type:Array,default:null},pullup:{type:Boolean,default:!1},pulldown:{type:Boolean,default:!1},beforeScroll:{type:Boolean,default:!1},refreshDelay:{type:Number,default:20}},mounted:function(){var t=this;setTimeout(function(){t._initScroll()},20)},methods:{_initScroll:function(){var t=this;if(this.$refs.wrapper){if(this.scroll=new o.a(this.$refs.wrapper,{probeType:this.probeType,click:this.click,scrollX:this.scrollX}),this.listenScroll){var n=this;this.scroll.on("scroll",function(t){n.$emit("scroll",t)})}this.pullup&&this.scroll.on("scrollEnd",function(){t.scroll.y<=t.scroll.maxScrollY+50&&t.$emit("scrollToEnd")}),this.pulldown&&this.scroll.on("touchend",function(n){n.y>50&&t.$emit("pulldown")}),this.beforeScroll&&this.scroll.on("beforeScrollStart",function(){t.$emit("beforeScroll")})}},disable:function(){this.scroll&&this.scroll.disable()},enable:function(){this.scroll&&this.scroll.enable()},refresh:function(){this.scroll&&this.scroll.refresh()},scrollTo:function(){this.scroll&&this.scroll.scrollTo.apply(this.scroll,arguments)},scrollToElement:function(){this.scroll&&this.scroll.scrollToElement.apply(this.scroll,arguments)}},watch:{data:function(){var t=this;setTimeout(function(){t.refresh()},this.refreshDelay)}}},r={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"wrapper"},[this._t("default")],2)},staticRenderFns:[]},a=e("C7Lr")(i,r,!1,null,null,null);n.a=a.exports},Uawo:function(t,n){},VTEE:function(t,n){},ZbCe:function(t,n){},ca7p:function(t,n){},gyMJ:function(t,n,e){"use strict";e.d(n,"f",function(){return s}),e.d(n,"e",function(){return c}),e.d(n,"d",function(){return l}),e.d(n,"c",function(){return u}),e.d(n,"b",function(){return f}),e.d(n,"a",function(){return d});var o=e("4YfN"),i=e.n(o),r=e("xd7I");function a(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"https://c.y.qq.com/")+t,r.a.jsonp(t,i()({callbackQuery:"jsonpCallback",format:"jsonp",inCharset:"utf-8",outCharset:"utf-8"},n))}var s=function(t){return a("splcloud/fcgi-bin/smartbox_new.fcg",{key:t})},c=function(t){return a("v8/fcg-bin/fcg_v8_toplist_cp.fcg",{topid:t})},l=function(){return a("v8/fcg-bin/fcg_myqq_toplist.fcg",{g_tk:5381,platform:"h5",needNewCode:1,_:(new Date).getTime()})},u=function(){return a("splcloud/fcgi-bin/gethotkey.fcg")},f=function(){return a("musichall/fcgi-bin/fcg_yqqhomepagerecommend.fcg")},d=function(){return a("v8/fcg-bin/fcg_first_yqq.fcg",{tpl:"v12",page:"other"})}},iloK:function(t,n){},iyl7:function(t,n){},mFEP:function(t,n){},meJn:function(t,n){},q0ms:function(t,n){},r3sw:function(t,n){},uH2S:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.f4ec1312a9c0995a8d52.js.map