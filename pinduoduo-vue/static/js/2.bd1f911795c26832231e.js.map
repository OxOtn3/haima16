{"version":3,"sources":["webpack:///./node_modules/_vant@2.1.5@vant/es/image-preview/style/index.js","webpack:///./node_modules/_vant@2.1.5@vant/es/mixins/close-on-popstate.js","webpack:///./node_modules/_vant@2.1.5@vant/es/image-preview/ImagePreview.js","webpack:///./node_modules/_vant@2.1.5@vant/es/image-preview/index.js","webpack:///src/components/Cart/index.vue","webpack:///./src/components/Cart/index.vue?7cfd","webpack:///./src/components/Cart/index.vue"],"names":["__WEBPACK_IMPORTED_MODULE_0__style_base_css__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_1__popup_index_css__","n","__WEBPACK_IMPORTED_MODULE_2__swipe_index_css__","__WEBPACK_IMPORTED_MODULE_3__swipe_item_index_css__","__WEBPACK_IMPORTED_MODULE_4__index_css__","CloseOnPopstateMixin","vue_esm","extend","mixins","Object","bind_event","bind","isBind","this","handlePopstate","closeOnPopstate","props","Boolean","data","bindStatus","watch","val","methods","$isServer","dom_event","window","close","_createNamespace","utils","createComponent","bem","getDistance","touches","Math","sqrt","abs","clientX","clientY","instance","image_preview_ImagePreview","popup","touch","className","lazyLoad","asyncClose","showIndicators","images","type","Array","default","loop","swipeDuration","Number","overlay","showIndex","startPosition","minZoom","maxZoom","overlayClass","String","closeOnClickOverlay","scale","moveX","moveY","moving","zooming","active","doubleClickTimer","computed","imageStyle","style","transition","transform","value","onWrapperTouchStart","touchStartTime","Date","onWrapperTouchEnd","event","_this","deltaTime","_ref","$refs","swipe","_ref$offsetX","offsetX","_ref$offsetY","offsetY","clearTimeout","toggleScale","setTimeout","index","resetScale","$emit","url","startMove","rect","currentTarget","getBoundingClientRect","winWidth","innerWidth","winHeight","innerHeight","touchStart","startMoveX","startMoveY","maxMoveX","max","width","maxMoveY","height","startZoom","startScale","startDistance","onImageTouchStart","_ref2$offsetX","length","onImageTouchMove","touchMove","deltaX","deltaY","number","distance","onImageTouchEnd","stopPropagation","onSwipeChange","render","_this2","h","arguments","Index","class","slots","Images","ref","attrs","duration","indicatorColor","initialSwipe","on","change","map","image","touchstart","touchmove","touchend","touchcancel","swipe_item","helper_default","directives","name","src","defaultConfig","onClose","onChange","es_image_preview_ImagePreview","el","document","createElement","body","appendChild","$el","$on","options","isArray","esm_extends","$once","show","install","use","__webpack_exports__","Cart","extends_default","vuex_esm","onClickLeft","$router","back","preview","e","image_preview","picurl","onDetailHandle","push","id","components_Cart","_vm","_h","$createElement","_c","_self","title","left-arrow","click-left","_v","cart","_l","i","key","num","count","price","desc","origin-price","normalprice","thumb","click-thumb","$event","tag","slot","t","idx","plain","_s","_e","size","click","deleteGoods","staticClass","staticRenderFns","Component","normalizeComponent","ssrContext"],"mappings":"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","file":"static/js/2.bd1f911795c26832231e.js","sourcesContent":["import '../../style/base.css';\nimport '../../popup/index.css';\nimport '../../swipe/index.css';\nimport '../../swipe-item/index.css';\nimport '../index.css';\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vant@2.1.5@vant/es/image-preview/style/index.js\n// module id = Fqso\n// module chunks = 2 3","import Vue from 'vue';\nimport { on, off } from '../utils/dom/event';\nimport { BindEventMixin } from './bind-event';\nexport var CloseOnPopstateMixin = Vue.extend({\n  mixins: [BindEventMixin(function (bind, isBind) {\n    this.handlePopstate(isBind && this.closeOnPopstate);\n  })],\n  props: {\n    closeOnPopstate: Boolean\n  },\n  data: function data() {\n    return {\n      bindStatus: false\n    };\n  },\n  watch: {\n    closeOnPopstate: function closeOnPopstate(val) {\n      this.handlePopstate(val);\n    }\n  },\n  methods: {\n    handlePopstate: function handlePopstate(bind) {\n      /* istanbul ignore if */\n      if (this.$isServer) {\n        return;\n      }\n\n      if (this.bindStatus !== bind) {\n        this.bindStatus = bind;\n        var action = bind ? on : off;\n        action(window, 'popstate', this.close);\n      }\n    }\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vant@2.1.5@vant/es/mixins/close-on-popstate.js\n// module id = null\n// module chunks = ","import _mergeJSXProps2 from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport { createNamespace } from '../utils';\nimport { range } from '../utils/format/number';\nimport { preventDefault } from '../utils/dom/event';\nimport { PopupMixin } from '../mixins/popup';\nimport { TouchMixin } from '../mixins/touch';\nimport { CloseOnPopstateMixin } from '../mixins/close-on-popstate';\nimport Swipe from '../swipe';\nimport SwipeItem from '../swipe-item';\n\nvar _createNamespace = createNamespace('image-preview'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction getDistance(touches) {\n  return Math.sqrt(Math.abs((touches[0].clientX - touches[1].clientX) * (touches[0].clientY - touches[1].clientY)));\n}\n\nexport default createComponent({\n  mixins: [PopupMixin, TouchMixin, CloseOnPopstateMixin],\n  props: {\n    className: null,\n    lazyLoad: Boolean,\n    asyncClose: Boolean,\n    showIndicators: Boolean,\n    images: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    loop: {\n      type: Boolean,\n      default: true\n    },\n    swipeDuration: {\n      type: Number,\n      default: 500\n    },\n    overlay: {\n      type: Boolean,\n      default: true\n    },\n    showIndex: {\n      type: Boolean,\n      default: true\n    },\n    startPosition: {\n      type: Number,\n      default: 0\n    },\n    minZoom: {\n      type: Number,\n      default: 1 / 3\n    },\n    maxZoom: {\n      type: Number,\n      default: 3\n    },\n    overlayClass: {\n      type: String,\n      default: bem('overlay')\n    },\n    closeOnClickOverlay: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    this.bindStatus = false;\n    return {\n      scale: 1,\n      moveX: 0,\n      moveY: 0,\n      moving: false,\n      zooming: false,\n      active: 0,\n      doubleClickTimer: null\n    };\n  },\n  computed: {\n    imageStyle: function imageStyle() {\n      var scale = this.scale;\n      var style = {\n        transition: this.zooming || this.moving ? '' : '.3s all'\n      };\n\n      if (scale !== 1) {\n        style.transform = \"scale3d(\" + scale + \", \" + scale + \", 1) translate(\" + this.moveX / scale + \"px, \" + this.moveY / scale + \"px)\";\n      }\n\n      return style;\n    }\n  },\n  watch: {\n    value: function value() {\n      this.active = this.startPosition;\n    },\n    startPosition: function startPosition(active) {\n      this.active = active;\n    }\n  },\n  methods: {\n    onWrapperTouchStart: function onWrapperTouchStart() {\n      this.touchStartTime = new Date();\n    },\n    onWrapperTouchEnd: function onWrapperTouchEnd(event) {\n      var _this = this;\n\n      preventDefault(event);\n      var deltaTime = new Date() - this.touchStartTime;\n\n      var _ref = this.$refs.swipe || {},\n          _ref$offsetX = _ref.offsetX,\n          offsetX = _ref$offsetX === void 0 ? 0 : _ref$offsetX,\n          _ref$offsetY = _ref.offsetY,\n          offsetY = _ref$offsetY === void 0 ? 0 : _ref$offsetY; // prevent long tap to close component\n\n\n      if (deltaTime < 300 && offsetX < 10 && offsetY < 10) {\n        if (!this.doubleClickTimer) {\n          this.doubleClickTimer = setTimeout(function () {\n            var index = _this.active;\n\n            _this.resetScale();\n\n            _this.$emit('close', {\n              index: index,\n              url: _this.images[index]\n            });\n\n            if (!_this.asyncClose) {\n              _this.$emit('input', false);\n            }\n\n            _this.doubleClickTimer = null;\n          }, 300);\n        } else {\n          clearTimeout(this.doubleClickTimer);\n          this.doubleClickTimer = null;\n          this.toggleScale();\n        }\n      }\n    },\n    startMove: function startMove(event) {\n      var image = event.currentTarget;\n      var rect = image.getBoundingClientRect();\n      var winWidth = window.innerWidth;\n      var winHeight = window.innerHeight;\n      this.touchStart(event);\n      this.moving = true;\n      this.startMoveX = this.moveX;\n      this.startMoveY = this.moveY;\n      this.maxMoveX = Math.max(0, (rect.width - winWidth) / 2);\n      this.maxMoveY = Math.max(0, (rect.height - winHeight) / 2);\n    },\n    startZoom: function startZoom(event) {\n      this.moving = false;\n      this.zooming = true;\n      this.startScale = this.scale;\n      this.startDistance = getDistance(event.touches);\n    },\n    onImageTouchStart: function onImageTouchStart(event) {\n      var touches = event.touches;\n\n      var _ref2 = this.$refs.swipe || {},\n          _ref2$offsetX = _ref2.offsetX,\n          offsetX = _ref2$offsetX === void 0 ? 0 : _ref2$offsetX;\n\n      if (touches.length === 1 && this.scale !== 1) {\n        this.startMove(event);\n      }\n      /* istanbul ignore else */\n      else if (touches.length === 2 && !offsetX) {\n          this.startZoom(event);\n        }\n    },\n    onImageTouchMove: function onImageTouchMove(event) {\n      var touches = event.touches;\n\n      if (this.moving || this.zooming) {\n        preventDefault(event, true);\n      }\n\n      if (this.moving) {\n        this.touchMove(event);\n        var moveX = this.deltaX + this.startMoveX;\n        var moveY = this.deltaY + this.startMoveY;\n        this.moveX = range(moveX, -this.maxMoveX, this.maxMoveX);\n        this.moveY = range(moveY, -this.maxMoveY, this.maxMoveY);\n      }\n\n      if (this.zooming && touches.length === 2) {\n        var distance = getDistance(touches);\n        var scale = this.startScale * distance / this.startDistance;\n        this.scale = range(scale, this.minZoom, this.maxZoom);\n      }\n    },\n    onImageTouchEnd: function onImageTouchEnd(event) {\n      /* istanbul ignore else */\n      if (this.moving || this.zooming) {\n        var stopPropagation = true;\n\n        if (this.moving && this.startMoveX === this.moveX && this.startMoveY === this.moveY) {\n          stopPropagation = false;\n        }\n\n        if (!event.touches.length) {\n          this.moving = false;\n          this.zooming = false;\n          this.startMoveX = 0;\n          this.startMoveY = 0;\n          this.startScale = 1;\n\n          if (this.scale < 1) {\n            this.resetScale();\n          }\n        }\n\n        if (stopPropagation) {\n          preventDefault(event, true);\n        }\n      }\n    },\n    onSwipeChange: function onSwipeChange(active) {\n      this.resetScale();\n      this.active = active;\n      this.$emit('change', active);\n    },\n    resetScale: function resetScale() {\n      this.scale = 1;\n      this.moveX = 0;\n      this.moveY = 0;\n    },\n    toggleScale: function toggleScale() {\n      var scale = this.scale > 1 ? 1 : 2;\n      this.scale = scale;\n      this.moveX = 0;\n      this.moveY = 0;\n    }\n  },\n  render: function render() {\n    var _this2 = this;\n\n    var h = arguments[0];\n\n    if (!this.value) {\n      return;\n    }\n\n    var active = this.active,\n        images = this.images;\n    var Index = this.showIndex && h(\"div\", {\n      \"class\": bem('index')\n    }, [this.slots('index') || active + 1 + \"/\" + images.length]);\n    var Images = h(Swipe, {\n      \"ref\": \"swipe\",\n      \"attrs\": {\n        \"loop\": this.loop,\n        \"duration\": this.swipeDuration,\n        \"indicatorColor\": \"white\",\n        \"initialSwipe\": this.startPosition,\n        \"showIndicators\": this.showIndicators\n      },\n      \"on\": {\n        \"change\": this.onSwipeChange\n      }\n    }, [images.map(function (image, index) {\n      var props = {\n        class: bem('image'),\n        style: index === active ? _this2.imageStyle : null,\n        on: {\n          touchstart: _this2.onImageTouchStart,\n          touchmove: _this2.onImageTouchMove,\n          touchend: _this2.onImageTouchEnd,\n          touchcancel: _this2.onImageTouchEnd\n        }\n      };\n      return h(SwipeItem, [_this2.lazyLoad ? h(\"img\", _mergeJSXProps([{\n        \"directives\": [{\n          name: \"lazy\",\n          value: image\n        }]\n      }, props])) : h(\"img\", _mergeJSXProps2([{\n        \"attrs\": {\n          \"src\": image\n        }\n      }, props]))]);\n    })]);\n    return h(\"transition\", {\n      \"attrs\": {\n        \"name\": \"van-fade\"\n      }\n    }, [h(\"div\", {\n      \"class\": [bem(), this.className],\n      \"on\": {\n        \"touchstart\": this.onWrapperTouchStart,\n        \"touchMove\": preventDefault,\n        \"touchend\": this.onWrapperTouchEnd,\n        \"touchcancel\": this.onWrapperTouchEnd\n      }\n    }, [Images, Index])]);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vant@2.1.5@vant/es/image-preview/ImagePreview.js\n// module id = null\n// module chunks = ","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport Vue from 'vue';\nimport VueImagePreview from './ImagePreview';\nimport { isServer } from '../utils';\nvar instance;\nvar defaultConfig = {\n  images: [],\n  loop: true,\n  swipeDuration: 500,\n  value: true,\n  minZoom: 1 / 3,\n  maxZoom: 3,\n  className: '',\n  onClose: null,\n  onChange: null,\n  lazyLoad: false,\n  showIndex: true,\n  asyncClose: false,\n  startPosition: 0,\n  showIndicators: false,\n  closeOnPopstate: false\n};\n\nvar initInstance = function initInstance() {\n  instance = new (Vue.extend(VueImagePreview))({\n    el: document.createElement('div')\n  });\n  document.body.appendChild(instance.$el);\n  instance.$on('change', function (index) {\n    if (instance.onChange) {\n      instance.onChange(index);\n    }\n  });\n};\n\nvar ImagePreview = function ImagePreview(images, startPosition) {\n  if (startPosition === void 0) {\n    startPosition = 0;\n  }\n\n  /* istanbul ignore if */\n  if (isServer) {\n    return;\n  }\n\n  if (!instance) {\n    initInstance();\n  }\n\n  var options = Array.isArray(images) ? {\n    images: images,\n    startPosition: startPosition\n  } : images;\n\n  _extends(instance, defaultConfig, options);\n\n  instance.$once('input', function (show) {\n    instance.value = show;\n  });\n\n  if (options.onClose) {\n    instance.$once('close', options.onClose);\n  }\n\n  return instance;\n};\n\nImagePreview.install = function () {\n  Vue.use(VueImagePreview);\n};\n\nexport default ImagePreview;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vant@2.1.5@vant/es/image-preview/index.js\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <van-nav-bar\r\n      title=\"购物车\"\r\n      left-arrow\r\n      @click-left=\"onClickLeft\"\r\n    />\r\n    <div v-if=\"cart.length\">\r\n      <van-card\r\n        :num=\"e.count\"\r\n        :price=\"e.price\"\r\n        :desc=\"e.desc\"\r\n        :title=\"e.name\"\r\n        :origin-price=\"e.normalprice\"\r\n        :thumb=\"e.picurl[0]\"\r\n        @click-thumb=\"preview(e)\"\r\n        v-for=\"(e, i) in cart\" :key=\"i\"\r\n      >\r\n        <div v-if=\"e.tag.length\" slot=\"tags\">\r\n          <van-tag plain type=\"danger\"\r\n            v-for=\"(t, idx) in e.tag\" :key=\"idx\">{{t}}</van-tag>\r\n        </div>\r\n        <div slot=\"footer\">\r\n          <van-button size=\"mini\" @click=\"onDetailHandle(e)\">详情</van-button>\r\n          <van-button size=\"mini\" @click=\"deleteGoods(e)\">删除</van-button>\r\n        </div>\r\n      </van-card>\r\n    </div>\r\n    <div class=\"blank\" v-else>\r\n      空空如也，快去添加吧~\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapState, mapMutations } from 'vuex'\r\nimport { ImagePreview } from 'vant'\r\nexport default {\r\n  name: 'Cart',\r\n  data() {\r\n    return {\r\n      index: 0,\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations('goods', ['deleteGoods']),\r\n    onClickLeft() {\r\n      this.$router.back()\r\n    }, \r\n    preview(e) {\r\n      ImagePreview({\r\n        images: e.picurl,\r\n        startPosition: this.index,\r\n      })\r\n    },\r\n    onDetailHandle(e) {\r\n      this.$router.push(`goods/${e.id}`)\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('goods', ['cart']),\r\n  },\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import '@/assets/css/util.scss';\r\n.blank {\r\n  @include cy-f();\r\n  text-align: center;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Cart/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{attrs:{\"title\":\"购物车\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft}}),_vm._v(\" \"),(_vm.cart.length)?_c('div',_vm._l((_vm.cart),function(e,i){return _c('van-card',{key:i,attrs:{\"num\":e.count,\"price\":e.price,\"desc\":e.desc,\"title\":e.name,\"origin-price\":e.normalprice,\"thumb\":e.picurl[0]},on:{\"click-thumb\":function($event){return _vm.preview(e)}}},[(e.tag.length)?_c('div',{attrs:{\"slot\":\"tags\"},slot:\"tags\"},_vm._l((e.tag),function(t,idx){return _c('van-tag',{key:idx,attrs:{\"plain\":\"\",\"type\":\"danger\"}},[_vm._v(_vm._s(t))])}),1):_vm._e(),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('van-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.onDetailHandle(e)}}},[_vm._v(\"详情\")]),_vm._v(\" \"),_c('van-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.deleteGoods(e)}}},[_vm._v(\"删除\")])],1)])}),1):_c('div',{staticClass:\"blank\"},[_vm._v(\"\\n    空空如也，快去添加吧~\\n  \")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-05571202\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/Cart/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-05571202\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-05571202\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-05571202\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Cart/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}