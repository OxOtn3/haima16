webpackJsonp([2],{E5w9:function(t,e){},Fqso:function(t,e,i){"use strict";var o=i("M7jv"),n=(i.n(o),i("iloK")),s=(i.n(n),i("ZbCe")),a=(i.n(s),i("JVYo")),c=(i.n(a),i("E5w9"));i.n(c)},RDzw:function(t,e){},W8Ce:function(t,e,i){"use strict";var o=i("kRwM"),n=i("xd7I"),s=i("j6cy"),a=i.n(s),c=i("CiZB"),r=i("Ee5/"),h=i("69Gg"),l=i("HyUM"),u=i("kVKy"),m=i("jdKG"),v=n.a.extend({mixins:[Object(m.a)(function(t,e){this.handlePopstate(e&&this.closeOnPopstate)})],props:{closeOnPopstate:Boolean},data:function(){return{bindStatus:!1}},watch:{closeOnPopstate:function(t){this.handlePopstate(t)}},methods:{handlePopstate:function(t){this.$isServer||this.bindStatus!==t&&(this.bindStatus=t,(t?h.b:h.a)(window,"popstate",this.close))}}}),d=i("MLpb"),f=i("RAWL"),p=Object(c.b)("image-preview"),g=p[0],b=p[1];function w(t){return Math.sqrt(Math.abs((t[0].clientX-t[1].clientX)*(t[0].clientY-t[1].clientY)))}var y,C=g({mixins:[l.a,u.a,v],props:{className:null,lazyLoad:Boolean,asyncClose:Boolean,showIndicators:Boolean,images:{type:Array,default:function(){return[]}},loop:{type:Boolean,default:!0},swipeDuration:{type:Number,default:500},overlay:{type:Boolean,default:!0},showIndex:{type:Boolean,default:!0},startPosition:{type:Number,default:0},minZoom:{type:Number,default:1/3},maxZoom:{type:Number,default:3},overlayClass:{type:String,default:b("overlay")},closeOnClickOverlay:{type:Boolean,default:!0}},data:function(){return this.bindStatus=!1,{scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,active:0,doubleClickTimer:null}},computed:{imageStyle:function(){var t=this.scale,e={transition:this.zooming||this.moving?"":".3s all"};return 1!==t&&(e.transform="scale3d("+t+", "+t+", 1) translate("+this.moveX/t+"px, "+this.moveY/t+"px)"),e}},watch:{value:function(){this.active=this.startPosition},startPosition:function(t){this.active=t}},methods:{onWrapperTouchStart:function(){this.touchStartTime=new Date},onWrapperTouchEnd:function(t){var e=this;Object(h.c)(t);var i=new Date-this.touchStartTime,o=this.$refs.swipe||{},n=o.offsetX,s=void 0===n?0:n,a=o.offsetY;i<300&&s<10&&(void 0===a?0:a)<10&&(this.doubleClickTimer?(clearTimeout(this.doubleClickTimer),this.doubleClickTimer=null,this.toggleScale()):this.doubleClickTimer=setTimeout(function(){var t=e.active;e.resetScale(),e.$emit("close",{index:t,url:e.images[t]}),e.asyncClose||e.$emit("input",!1),e.doubleClickTimer=null},300))},startMove:function(t){var e=t.currentTarget.getBoundingClientRect(),i=window.innerWidth,o=window.innerHeight;this.touchStart(t),this.moving=!0,this.startMoveX=this.moveX,this.startMoveY=this.moveY,this.maxMoveX=Math.max(0,(e.width-i)/2),this.maxMoveY=Math.max(0,(e.height-o)/2)},startZoom:function(t){this.moving=!1,this.zooming=!0,this.startScale=this.scale,this.startDistance=w(t.touches)},onImageTouchStart:function(t){var e=t.touches,i=(this.$refs.swipe||{}).offsetX,o=void 0===i?0:i;1===e.length&&1!==this.scale?this.startMove(t):2!==e.length||o||this.startZoom(t)},onImageTouchMove:function(t){var e=t.touches;if((this.moving||this.zooming)&&Object(h.c)(t,!0),this.moving){this.touchMove(t);var i=this.deltaX+this.startMoveX,o=this.deltaY+this.startMoveY;this.moveX=Object(r.a)(i,-this.maxMoveX,this.maxMoveX),this.moveY=Object(r.a)(o,-this.maxMoveY,this.maxMoveY)}if(this.zooming&&2===e.length){var n=w(e),s=this.startScale*n/this.startDistance;this.scale=Object(r.a)(s,this.minZoom,this.maxZoom)}},onImageTouchEnd:function(t){if(this.moving||this.zooming){var e=!0;this.moving&&this.startMoveX===this.moveX&&this.startMoveY===this.moveY&&(e=!1),t.touches.length||(this.moving=!1,this.zooming=!1,this.startMoveX=0,this.startMoveY=0,this.startScale=1,this.scale<1&&this.resetScale()),e&&Object(h.c)(t,!0)}},onSwipeChange:function(t){this.resetScale(),this.active=t,this.$emit("change",t)},resetScale:function(){this.scale=1,this.moveX=0,this.moveY=0},toggleScale:function(){var t=this.scale>1?1:2;this.scale=t,this.moveX=0,this.moveY=0}},render:function(){var t=this,e=arguments[0];if(this.value){var i=this.active,o=this.images,n=this.showIndex&&e("div",{class:b("index")},[this.slots("index")||i+1+"/"+o.length]),s=e(d.a,{ref:"swipe",attrs:{loop:this.loop,duration:this.swipeDuration,indicatorColor:"white",initialSwipe:this.startPosition,showIndicators:this.showIndicators},on:{change:this.onSwipeChange}},[o.map(function(o,n){var s={class:b("image"),style:n===i?t.imageStyle:null,on:{touchstart:t.onImageTouchStart,touchmove:t.onImageTouchMove,touchend:t.onImageTouchEnd,touchcancel:t.onImageTouchEnd}};return e(f.a,[t.lazyLoad?e("img",a()([{directives:[{name:"lazy",value:o}]},s])):e("img",a()([{attrs:{src:o}},s]))])})]);return e("transition",{attrs:{name:"van-fade"}},[e("div",{class:[b(),this.className],on:{touchstart:this.onWrapperTouchStart,touchMove:h.c,touchend:this.onWrapperTouchEnd,touchcancel:this.onWrapperTouchEnd}},[s,n])])}}}),M={images:[],loop:!0,swipeDuration:500,value:!0,minZoom:1/3,maxZoom:3,className:"",onClose:null,onChange:null,lazyLoad:!1,showIndex:!0,asyncClose:!1,startPosition:0,showIndicators:!1,closeOnPopstate:!1},x=function(t,e){if(void 0===e&&(e=0),!c.f){y||(y=new(n.a.extend(C))({el:document.createElement("div")}),document.body.appendChild(y.$el),y.$on("change",function(t){y.onChange&&y.onChange(t)}));var i=Array.isArray(t)?{images:t,startPosition:e}:t;return Object(o.a)(y,M,i),y.$once("input",function(t){y.value=t}),i.onClose&&y.$once("close",i.onClose),y}};x.install=function(){n.a.use(C)};e.a=x},xRQ9:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("Fqso");var o=i("W8Ce"),n=i("4YfN"),s=i.n(n),a=i("2bvH"),c={name:"Cart",data:function(){return{index:0}},methods:s()({},Object(a.b)("goods",["deleteGoods"]),{onClickLeft:function(){this.$router.back()},preview:function(t){Object(o.a)({images:t.picurl,startPosition:this.index})},onDetailHandle:function(t){this.$router.push("goods/"+t.id)}}),computed:s()({},Object(a.c)("goods",["cart"]))},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-nav-bar",{attrs:{title:"购物车","left-arrow":""},on:{"click-left":t.onClickLeft}}),t._v(" "),t.cart.length?i("div",t._l(t.cart,function(e,o){return i("van-card",{key:o,attrs:{num:e.count,price:e.price,desc:e.desc,title:e.name,"origin-price":e.normalprice,thumb:e.picurl[0]},on:{"click-thumb":function(i){return t.preview(e)}}},[e.tag.length?i("div",{attrs:{slot:"tags"},slot:"tags"},t._l(e.tag,function(e,o){return i("van-tag",{key:o,attrs:{plain:"",type:"danger"}},[t._v(t._s(e))])}),1):t._e(),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("van-button",{attrs:{size:"mini"},on:{click:function(i){return t.onDetailHandle(e)}}},[t._v("详情")]),t._v(" "),i("van-button",{attrs:{size:"mini"},on:{click:function(i){return t.deleteGoods(e)}}},[t._v("删除")])],1)])}),1):i("div",{staticClass:"blank"},[t._v("\n    空空如也，快去添加吧~\n  ")])],1)},staticRenderFns:[]};var h=i("C7Lr")(c,r,!1,function(t){i("RDzw")},"data-v-05571202",null);e.default=h.exports}});
//# sourceMappingURL=2.bd1f911795c26832231e.js.map